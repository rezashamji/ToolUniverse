[
  {
    "name": "cdc_data_search_datasets",
    "description": "Search for datasets on Data.CDC.gov (CDC's Socrata-based open data portal). Returns a list of available datasets matching search criteria. Use this to discover datasets before querying data.",
    "type": "CDCRESTTool",
    "parameter": {
      "type": "object",
      "properties": {
        "search_query": {
          "type": "string",
          "description": "Search term to find datasets (e.g., 'mortality', 'vaccination', 'covid')"
        },
        "category": {
          "type": "string",
          "description": "Optional category filter (e.g., 'Health', 'Public Safety')"
        },
        "limit": {
          "type": "integer",
          "description": "Maximum number of datasets to return (default: 50, max: 1000)",
          "default": 50
        },
        "offset": {
          "type": "integer",
          "description": "Number of results to skip for pagination (default: 0)",
          "default": 0
        }
      },
      "required": []
    },
    "fields": {
      "endpoint": "/api/views.json",
      "return_format": "JSON"
    },
    "return_schema": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Dataset ID"
        },
        "name": {
          "type": "string",
          "description": "Dataset name"
        },
        "description": {
          "type": "string",
          "description": "Dataset description"
        },
        "category": {
          "type": "string"
        },
        "viewCount": {
          "type": "integer"
        },
        "downloadCount": {
          "type": "integer"
        }
      }
    }
  },
  {
    "name": "cdc_data_get_dataset",
    "description": "Retrieve data from a specific CDC dataset on Data.CDC.gov. Requires a dataset ID (view ID) which can be found using cdc_data_search_datasets.",
    "type": "CDCRESTTool",
    "parameter": {
      "type": "object",
      "properties": {
        "dataset_id": {
          "type": "string",
          "description": "Dataset ID (view ID) from Data.CDC.gov (e.g., 'p5x4-u35c')"
        },
        "limit": {
          "type": "integer",
          "description": "Maximum number of rows to return (default: 100, max: 50000)",
          "default": 100
        },
        "offset": {
          "type": "integer",
          "description": "Number of rows to skip for pagination (default: 0)",
          "default": 0
        },
        "where_clause": {
          "type": "string",
          "description": "Optional SoQL WHERE clause for filtering (e.g., \"year = '2020'\")"
        },
        "order_by": {
          "type": "string",
          "description": "Optional column name to order by (e.g., 'year')"
        }
      },
      "required": ["dataset_id"]
    },
    "fields": {
      "endpoint": "/api/views/{dataset_id}/rows.json",
      "return_format": "JSON"
    },
    "return_schema": {
      "type": "object",
      "properties": {
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "description": "Data rows from the dataset"
          }
        },
        "meta": {
          "type": "object",
          "description": "Metadata about the dataset"
        }
      }
    }
  }
]

