#!/bin/bash
echo "ğŸ”§ Regenerating tools..."
python scripts/build_tools.py

if [ $? -ne 0 ]; then
    echo "âŒ Tools generation failed!"
    exit 1
fi

git add src/tooluniverse/tools/

echo "ğŸ§ª Running all tests..."
pytest tests/ -v --tb=short -m "not slow"

if [ $? -ne 0 ]; then
    echo "âŒ Tests failed! Please fix before committing."
    exit 1
fi

echo "âœ… Tools updated and all tests passed"
